"use strict";var e=require("../../common/vendor.js");const n={data:()=>({ifUploading:!1,newNickname:""}),methods:{async changeNickname(){this.ifUploading=!0;const n=e.index.getStorageSync("userAccount"),a=e.pn.database();await a.collection("users").where({account:n}).update({nickName:this.newNickname}),e.index.showToast({title:"更新成功",duration:2e3}),e.index.reLaunch({url:"/pages/myself/myself"})}}};if(!Array){e.resolveComponent("uni-section")()}Math;var a=e._export_sfc(n,[["render",function(n,a,i,t,c,o){return e.e({a:c.newNickname,b:e.o((e=>c.newNickname=e.detail.value)),c:e.p({title:"新昵称",type:"line"}),d:c.ifUploading},c.ifUploading?{}:{e:e.o(((...e)=>o.changeNickname&&o.changeNickname(...e)))})}]]);wx.createPage(a);
