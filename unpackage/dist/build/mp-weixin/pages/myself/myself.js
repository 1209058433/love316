"use strict";var e=require("../../common/vendor.js");const a={data:()=>({userHeadImg:"",userNickName:"超级无敌王子刚"}),created(){this.ifLog()},methods:{async ifLog(){const a=e.index.getStorageSync("userAccount");if(a){const n=e.pn.database(),{result:i}=await n.collection("users").where({account:a}).get(),c=i.data[0];this.userHeadImg=c.headImg,this.userNickName=c.nickName}else e.index.redirectTo({url:"/pages/login/login"})},exitLog(){e.index.showModal({title:"退出登录",content:"确定要退出登录吗",success(a){a.confirm&&(e.index.removeStorageSync("userAccount"),e.index.reLaunch({url:"/pages/index/index"}))}})},changeHead(){e.index.navigateTo({url:"/pages/changeHead/changeHead",animationType:"slide-in-right",animationDuration:100})},changeNickname(){e.index.navigateTo({url:"/pages/changeNickname/changeNickname",animationType:"slide-in-right",animationDuration:100})},changePassword(){e.index.navigateTo({url:"/pages/changePassword/changePassword",animationType:"slide-in-right",animationDuration:100})}}};var n=e._export_sfc(a,[["render",function(a,n,i,c,t,o){return{a:t.userHeadImg,b:e.t(t.userNickName),c:e.o(((...e)=>o.changeHead&&o.changeHead(...e))),d:e.o(((...e)=>o.changeNickname&&o.changeNickname(...e))),e:e.o(((...e)=>o.changePassword&&o.changePassword(...e))),f:e.o(((...e)=>o.exitLog&&o.exitLog(...e)))}}]]);wx.createPage(n);
