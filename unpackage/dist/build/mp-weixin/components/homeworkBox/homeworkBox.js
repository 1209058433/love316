"use strict";var e=require("../../common/vendor.js");const o={name:"homeworkBox",props:{homework:Object},data:()=>({authorInfo:{headImg:"",nickName:""},homeworkState:0}),created(){this.getAuthorInfo()},methods:{async getAuthorInfo(){const o=e.pn.database(),{result:t}=await o.collection("users").where({account:this.$props.homework.author}).get();this.authorInfo=t.data[0];const r=e.index.getStorageSync("userAccount");if(-1!==this.$props.homework.completeUsers.indexOf(r))this.homeworkState=1;else{const e=+new Date(this.$props.homework.deadLine);+new Date-e>0&&(this.homeworkState=2)}},goDetails(){const o=this.$props.homework._id;e.index.navigateTo({url:"/pages/homeworkDetails/homeworkDetails?id="+o,animationType:"slide-in-right",animationDuration:100})}}};var t=e._export_sfc(o,[["render",function(o,t,r,a,n,h){return e.e({a:e.t(r.homework.title),b:e.t(r.homework.deadLine),c:n.authorInfo.headImg,d:e.t(n.authorInfo.nickName),e:e.t(r.homework.time),f:0===n.homeworkState},(0===n.homeworkState||n.homeworkState,{}),{g:1===n.homeworkState,h:e.o(((...e)=>h.goDetails&&h.goDetails(...e)))})}]]);wx.createComponent(t);
